apiVersion: v1
kind: ConfigMap
metadata:
  name: nexus-config
  namespace: nexus
  labels:
    app.kubernetes.io/name: nexus-config
    app.kubernetes.io/part-of: nexus-platform
data:
  # Node.js Configuration
  NODE_ENV: "production"
  LOG_LEVEL: "info"

  # API Configuration
  API_VERSION: "v1"
  API_RATE_LIMIT: "100"
  API_TIMEOUT: "30000"

  # Database Configuration
  DB_POOL_MIN: "2"
  DB_POOL_MAX: "10"
  DB_SSL_ENABLED: "true"

  # Redis Configuration
  REDIS_DB: "0"
  REDIS_MAX_RETRIES: "3"
  REDIS_RETRY_DELAY: "1000"

  # Service Discovery
  SERVICE_MESH_ENABLED: "true"
  TRACING_ENABLED: "true"
  METRICS_ENABLED: "true"

  # Feature Flags
  FEATURE_AI_ENABLED: "true"
  FEATURE_MARKETPLACE_ENABLED: "true"
  FEATURE_ANALYTICS_ENABLED: "true"

  # Storage Configuration
  STORAGE_PROVIDER: "azure"
  CDN_ENABLED: "true"

  # Message Queue
  QUEUE_PROVIDER: "rabbitmq"
  QUEUE_PREFETCH: "10"

  # Security
  CORS_ENABLED: "true"
  RATE_LIMIT_ENABLED: "true"

  # Monitoring
  PROMETHEUS_PORT: "9090"
  HEALTH_CHECK_INTERVAL: "30"

  # AI Service
  AI_MAX_WORKERS: "4"
  AI_BATCH_SIZE: "32"

  # Video Processing
  VIDEO_MAX_SIZE: "2147483648"
  VIDEO_ALLOWED_FORMATS: "mp4,mov,avi,webm"
  VIDEO_PROCESSING_TIMEOUT: "600000"
