# =============================================================================
# NEXUS Platform - Docker Environment Configuration
# =============================================================================
# Copy this file to .env for local Docker development
# These variables are used by docker-compose.yml
# =============================================================================

# -----------------------------------------------------------------------------
# Application Environment
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_NAME=nexus-platform

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# PostgreSQL
POSTGRES_DB=nexus_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# MongoDB
MONGO_INITDB_ROOT_USERNAME=mongo
MONGO_INITDB_ROOT_PASSWORD=mongo
MONGO_INITDB_DATABASE=nexus_dev
MONGODB_PORT=27017

# Redis
REDIS_PASSWORD=
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Service URLs (Docker Network)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/nexus_dev
MONGODB_URI=mongodb://mongo:mongo@mongodb:27017/nexus_dev?authSource=admin
REDIS_URL=redis://redis:6379

# -----------------------------------------------------------------------------
# Service Ports (Host Machine)
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=4000
AUTH_SERVICE_PORT=4001
USER_SERVICE_PORT=4002
CONTENT_SERVICE_PORT=4003
CAMPAIGN_SERVICE_PORT=4004
CREATOR_SERVICE_PORT=4005
BILLING_SERVICE_PORT=4006
ANALYTICS_SERVICE_PORT=4007
COMMERCE_SERVICE_PORT=4008
MARKETPLACE_SERVICE_PORT=4009
AI_SERVICE_PORT=8000

# Frontend Ports
WEB_PORT=3000
BRAND_PORTAL_PORT=3001
CREATOR_PORTAL_PORT=3002
ADMIN_PORT=3003

# Infrastructure Ports
ELASTICSEARCH_PORT=9200
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
N8N_PORT=5678
MAILHOG_SMTP_PORT=1025
MAILHOG_WEB_PORT=8025

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
JWT_SECRET=dev-jwt-secret-change-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d
NEXTAUTH_SECRET=dev-nextauth-secret-change-in-production
NEXTAUTH_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Storage Configuration (MinIO)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
STORAGE_ENDPOINT=http://minio:9000
STORAGE_PUBLIC_URL=http://localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET_UPLOADS=uploads
STORAGE_BUCKET_MEDIA=media
STORAGE_BUCKET_VIDEOS=videos
STORAGE_BUCKET_THUMBNAILS=thumbnails

# -----------------------------------------------------------------------------
# Elasticsearch Configuration
# -----------------------------------------------------------------------------
ELASTICSEARCH_URL=http://elasticsearch:9200
ES_JAVA_OPTS=-Xms512m -Xmx512m

# -----------------------------------------------------------------------------
# n8n Workflow Automation
# -----------------------------------------------------------------------------
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http

# -----------------------------------------------------------------------------
# Email Configuration (Development - MailHog)
# -----------------------------------------------------------------------------
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@nexus.local

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=pretty

# -----------------------------------------------------------------------------
# Azure Services (Optional - Use MinIO for local dev)
# -----------------------------------------------------------------------------
# Leave empty to use local MinIO
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_STORAGE_CONNECTION_STRING=

# Azure OpenAI (Optional - Required for AI features)
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_DEPLOYMENT_GPT4=gpt-4
AZURE_OPENAI_DEPLOYMENT_GPT4O=gpt-4o
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# -----------------------------------------------------------------------------
# External API Keys (Optional)
# -----------------------------------------------------------------------------
# Social Platform APIs
TIKTOK_CLIENT_KEY=
TIKTOK_CLIENT_SECRET=
META_APP_ID=
META_APP_SECRET=
YOUTUBE_API_KEY=
YOUTUBE_CLIENT_ID=
YOUTUBE_CLIENT_SECRET=

# OAuth Providers
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Payment Providers
STRIPE_SECRET_KEY=YOUR_STRIPE_TEST_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_dummy
STRIPE_WEBHOOK_SECRET=whsec_dummy

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=2
VIDEO_PROCESSOR_CONCURRENCY=2
NOTIFICATION_DISPATCHER_CONCURRENCY=5
SOCIAL_PUBLISHER_CONCURRENCY=2
ANALYTICS_AGGREGATOR_CONCURRENCY=3

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AI_VIDEO_GENERATOR=true
FEATURE_SHOPPABLE_COMMERCE=true
FEATURE_CREATOR_MARKETPLACE=true
FEATURE_ADVANCED_ANALYTICS=true

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
HOT_RELOAD=true
SKIP_EMAIL_VERIFICATION=true
MOCK_EXTERNAL_APIS=false

# -----------------------------------------------------------------------------
# Docker Compose Settings
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=nexus
COMPOSE_FILE=docker-compose.yml
