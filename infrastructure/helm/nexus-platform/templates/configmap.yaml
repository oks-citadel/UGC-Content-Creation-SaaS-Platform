apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "nexus-platform.fullname" . }}-config
  labels:
    {{- include "nexus-platform.labels" . | nindent 4 }}
data:
  NODE_ENV: {{ .Values.global.environment | quote }}
  LOG_LEVEL: {{ default "info" .Values.logLevel | quote }}

  # Service URLs (internal)
  API_GATEWAY_URL: "http://api-gateway:{{ .Values.apiGateway.service.port }}"
  AUTH_SERVICE_URL: "http://auth-service:{{ .Values.authService.service.port }}"
  USER_SERVICE_URL: "http://user-service:{{ .Values.userService.service.port }}"
  CAMPAIGN_SERVICE_URL: "http://campaign-service:{{ .Values.campaignService.service.port }}"
  CONTENT_SERVICE_URL: "http://content-service:{{ .Values.contentService.service.port }}"
  CREATOR_SERVICE_URL: "http://creator-service:{{ .Values.creatorService.service.port }}"
  COMMERCE_SERVICE_URL: "http://commerce-service:{{ .Values.commerceService.service.port }}"
  ANALYTICS_SERVICE_URL: "http://analytics-service:{{ .Values.analyticsService.service.port }}"
  NOTIFICATION_SERVICE_URL: "http://notification-service:{{ .Values.notificationService.service.port }}"

  # External URLs
  APP_URL: "https://{{ .Values.global.domain }}"
  API_URL: "https://api.{{ .Values.global.domain }}"

  # Azure configuration
  AZURE_SUBSCRIPTION_ID: {{ .Values.global.azure.subscriptionId | quote }}
  AZURE_RESOURCE_GROUP: {{ .Values.global.azure.resourceGroup | quote }}
  AZURE_LOCATION: {{ .Values.global.azure.location | quote }}

  # Feature flags
  FEATURE_AI_VIDEO_GENERATOR: "true"
  FEATURE_SHOPPABLE_COMMERCE: "true"
  FEATURE_CREATOR_MARKETPLACE: "true"
