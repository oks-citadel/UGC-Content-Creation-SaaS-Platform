# NEXUS Platform - Database Environment Variables
# Copy this file to .env and update with your actual values

# ============================================================================
# PostgreSQL Configuration
# ============================================================================

# Database connection URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://nexus_user:your_secure_password@localhost:5432/nexus?schema=public"

# Connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_IDLE_TIMEOUT=30000

# SSL/TLS (set to true in production)
DATABASE_SSL=false

# ============================================================================
# MongoDB Configuration
# ============================================================================

# MongoDB connection URL
# Format: mongodb://USER:PASSWORD@HOST:PORT/DATABASE
MONGODB_URL="mongodb://localhost:27017/nexus"

# MongoDB options
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_SERVER_SELECTION_TIMEOUT=5000

# ============================================================================
# Redis Configuration
# ============================================================================

# Redis connection URL
# Format: redis://[:PASSWORD@]HOST:PORT/DATABASE
REDIS_URL="redis://localhost:6379"

# Redis options
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# Redis password (if authentication is enabled)
REDIS_PASSWORD=""

# ============================================================================
# Seed Data Configuration
# ============================================================================

# Admin user credentials (change these!)
ADMIN_EMAIL="admin@nexus.local"
ADMIN_PASSWORD="Admin@123456"

# Test user credentials (development only)
TEST_USER_PASSWORD="Test@123456"

# ============================================================================
# Environment
# ============================================================================

# Environment: development, staging, production
NODE_ENV="development"

# ============================================================================
# Backup Configuration
# ============================================================================

# Backup directory
BACKUP_DIR="./backups"

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# S3 backup (optional)
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=""
BACKUP_S3_REGION=""
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""

# ============================================================================
# Monitoring & Logging
# ============================================================================

# Enable query logging
DATABASE_LOGGING=true

# Slow query threshold (ms)
SLOW_QUERY_THRESHOLD=1000

# Enable MongoDB profiling
MONGODB_PROFILING=false

# Redis monitoring
REDIS_MONITORING=false

# ============================================================================
# Performance Tuning
# ============================================================================

# Query timeout (ms)
DATABASE_QUERY_TIMEOUT=30000

# Statement timeout (ms)
DATABASE_STATEMENT_TIMEOUT=60000

# Idle transaction timeout (ms)
DATABASE_IDLE_IN_TRANSACTION_TIMEOUT=10000

# ============================================================================
# Security
# ============================================================================

# Encryption key for sensitive data
ENCRYPTION_KEY="your-32-character-encryption-key"

# JWT secret (for database sessions if applicable)
JWT_SECRET="your-jwt-secret-key"

# ============================================================================
# Feature Flags
# ============================================================================

# Enable read replicas
ENABLE_READ_REPLICAS=false

# Read replica URLs (comma-separated)
READ_REPLICA_URLS=""

# Enable query result caching
ENABLE_QUERY_CACHE=true

# Cache TTL (seconds)
QUERY_CACHE_TTL=300
